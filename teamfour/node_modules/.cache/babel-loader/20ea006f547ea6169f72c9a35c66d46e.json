{"ast":null,"code":"import _classCallCheck from \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/teamfour/src/components/table.js\";\nimport React, { Component } from 'react';\nimport ReactTable from \"react-table\"; //import ReactJson from 'react-json-view';\n\nimport axios from 'axios';\nimport \"react-table/react-table.css\"; //handles button click\n//grabs correct json from row and converts it to a string\n//creates blob to be downloaded\n//gives blob url\n//makes a tempLink object so file can be given name/fileExtension\n//clicks tempLink to download file\n\nfunction handleButtonClick(e, row) {\n  var json = JSON.stringify(row.row._original.content, null, ' ');\n  var blob = new Blob([json], {\n    type: \"octet/stream\"\n  });\n  var url = window.URL.createObjectURL(blob);\n  var tempLink = document.createElement('a');\n  tempLink.href = url;\n  tempLink.setAttribute('download', 'filename.json');\n  tempLink.click();\n}\n\nvar Table =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Table, _Component);\n\n  function Table() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Table)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      dbData: []\n    };\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/api/items').then(function (res) {\n        return _this2.setState({\n          dbData: res.data\n        });\n      }); //console.log(this.state.dbData)\n\n      var columns = [{\n        Header: 'Serial Number',\n        accessor: 'serial'\n      }, {\n        Header: 'Company Name',\n        accessor: 'company'\n      }, {\n        Header: 'Model',\n        accessor: 'model'\n      }, {\n        Header: 'Date',\n        accessor: 'date'\n      }, {\n        Header: 'Download',\n        accessor: 'content',\n        //creates a new component inside of this column in the table\n        Cell: function Cell(row) {\n          return (//button calls its clicky function when clicked\n            React.createElement(\"button\", {\n              onClick: function onClick(e) {\n                return handleButtonClick(e, row);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 54\n              },\n              __self: this\n            }, \"Download\")\n          );\n        } // {\n        //   Header: 'content',\n        //   accessor:  'content',\n        // }\n\n      }];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        data: this.state.dbData,\n        columns: columns,\n        defaultPageSize: 25,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Table;\n}(Component);\n\nexport default Table;","map":{"version":3,"sources":["/Users/andrewsmith/Computer Science/School/CompSci320/F18CS320-Team4/teamfour/src/components/table.js"],"names":["React","Component","ReactTable","axios","handleButtonClick","e","row","json","JSON","stringify","_original","content","blob","Blob","type","url","window","URL","createObjectURL","tempLink","document","createElement","href","setAttribute","click","Table","state","dbData","get","then","res","setState","data","columns","Header","accessor","Cell"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,aAAvB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,6BAAP,C,CAEA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,iBAAT,CAA4BC,CAA5B,EAA+BC,GAA/B,EAAoC;AAClC,MAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeH,GAAG,CAACA,GAAJ,CAAQI,SAAR,CAAkBC,OAAjC,EAA0C,IAA1C,EAAgD,GAAhD,CAAX;AACA,MAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACN,IAAD,CAAT,EAAiB;AAACO,IAAAA,IAAI,EAAE;AAAP,GAAjB,CAAX;AACA,MAAIC,GAAG,GAAIC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BN,IAA3B,CAAX;AACA,MAAIO,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACAF,EAAAA,QAAQ,CAACG,IAAT,GAAgBP,GAAhB;AACAI,EAAAA,QAAQ,CAACI,YAAT,CAAsB,UAAtB,EAAkC,eAAlC;AACAJ,EAAAA,QAAQ,CAACK,KAAT;AACD;;IAEKC,K;;;;;;;;;;;;;;;;;UACJC,K,GAAO;AACLC,MAAAA,MAAM,EAAE;AADH,K;;;;;;6BAIE;AAAA;;AACPxB,MAAAA,KAAK,CAACyB,GAAN,CAAU,iCAAV,EACCC,IADD,CACM,UAAAC,GAAG;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AACzBJ,UAAAA,MAAM,EAAEG,GAAG,CAACE;AADa,SAAd,CAAJ;AAAA,OADT,EADO,CAMP;;AAEA,UAAMC,OAAO,GAAG,CAAC;AACfC,QAAAA,MAAM,EAAE,eADO;AAEfC,QAAAA,QAAQ,EAAE;AAFK,OAAD,EAGb;AACDD,QAAAA,MAAM,EAAE,cADP;AAEDC,QAAAA,QAAQ,EAAE;AAFT,OAHa,EAMb;AACDD,QAAAA,MAAM,EAAE,OADP;AAEDC,QAAAA,QAAQ,EAAE;AAFT,OANa,EASb;AACDD,QAAAA,MAAM,EAAE,MADP;AAEDC,QAAAA,QAAQ,EAAE;AAFT,OATa,EAYd;AACAD,QAAAA,MAAM,EAAE,UADR;AAEAC,QAAAA,QAAQ,EAAE,SAFV;AAGA;AACAC,QAAAA,IAAI,EAAG,cAAA9B,GAAG;AAAA,iBACR;AACA;AAAQ,cAAA,OAAO,EAAE,iBAACD,CAAD;AAAA,uBAAOD,iBAAiB,CAACC,CAAD,EAAIC,GAAJ,CAAxB;AAAA,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFQ;AAAA,SAJV,CASF;AACA;AACA;AACA;;AAZE,OAZc,CAAhB;AA4BA,aACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AACE,QAAA,IAAI,EAAE,KAAKoB,KAAL,CAAWC,MADnB;AAEE,QAAA,OAAO,EAAEM,OAFX;AAGE,QAAA,eAAe,EAAI,EAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADN;AAWD;;;;EApDiBhC,S;;AAuDpB,eAAewB,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReactTable from \"react-table\";\n//import ReactJson from 'react-json-view';\nimport axios from 'axios';\nimport \"react-table/react-table.css\";\n\n//handles button click\n//grabs correct json from row and converts it to a string\n//creates blob to be downloaded\n//gives blob url\n//makes a tempLink object so file can be given name/fileExtension\n//clicks tempLink to download file\nfunction handleButtonClick (e, row) {\n  var json = JSON.stringify(row.row._original.content, null, ' ');\n  var blob = new Blob([json], {type: \"octet/stream\"});\n  var url  = window.URL.createObjectURL(blob);\n  var tempLink = document.createElement('a');\n  tempLink.href = url;\n  tempLink.setAttribute('download', 'filename.json');\n  tempLink.click();\n}\n\nclass Table extends Component {\n  state ={\n    dbData: []\n  }\n\n  render() {\n    axios.get('http://localhost:5000/api/items')\n    .then(res => this.setState({\n      dbData: res.data\n    }))\n\n    //console.log(this.state.dbData)\n\n    const columns = [{\n      Header: 'Serial Number',\n      accessor: 'serial'\n    }, {\n      Header: 'Company Name',\n      accessor: 'company'\n    }, {\n      Header: 'Model',\n      accessor: 'model'\n    }, {\n      Header: 'Date',\n      accessor: 'date'\n    },{\n      Header: 'Download',\n      accessor: 'content',\n      //creates a new component inside of this column in the table\n      Cell : row => (\n        //button calls its clicky function when clicked\n        <button onClick={(e) => handleButtonClick(e, row)}>Download</button>\n      )\n    }\n    // {\n    //   Header: 'content',\n    //   accessor:  'content',\n    // }\n\n]\n\n    return (\n          <div>\n              <ReactTable\n                data={this.state.dbData}\n                columns={columns}\n                defaultPageSize = {25}\n              />\n              \n          </div>      \n    )\n\n  }\n}\n\nexport default Table;"]},"metadata":{},"sourceType":"module"}